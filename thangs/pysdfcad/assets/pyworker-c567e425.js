(function(){"use strict";importScripts("https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js");async function s(){self.pyodide=await loadPyodide(),console.log("pyodide loaded"),await self.pyodide.loadPackage(["numpy","pytz"]),await pyodide.runPython(await(await fetch("./assets/pycsg.py")).text()),self.postMessage({type:"pyodideready"})}let a=s();onmessage=async d=>{await a;try{await self.pyodide.runPython("clearobjects()"),await self.pyodide.runPython(d.data);let e=await pyodide.runPython("makescenejson()");res=JSON.parse(e),midstring=res.shader,shaderstring=midstring,postMessage({shaderstring})}catch(e){postMessage({error:e.message})}}})();
