(function(){"use strict";let e;importScripts("https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js");async function t(){e=await loadPyodide(),console.log("pyodide loaded"),await e.loadPackage(["numpy","pytz"]),await e.runPython(await(await fetch("./assets/pycsg.py")).text()),self.postMessage({type:"pyodideready"})}let d=t();onmessage=async s=>{await d;try{await e.runPython("clearobjects()"),console.log(s.data),await e.runPython(s.data);let a=await e.runPython("makescenejson()");res=JSON.parse(a),midstring=res.shader,shaderstring=midstring,postMessage({shaderstring})}catch(a){postMessage({error:a.message})}}})();
