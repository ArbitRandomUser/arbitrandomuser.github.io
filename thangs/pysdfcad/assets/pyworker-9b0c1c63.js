(function(){"use strict";let e;importScripts("https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js");async function s(){e=await loadPyodide(),console.log("pyodide loaded"),await e.loadPackage(["numpy","pytz"]),await e.runPython(await(await fetch("./assets/pycsg.py")).text()),self.postMessage({type:"pyodideready"})}let t=s();onmessage=async d=>{await t;try{await e.runPython("clearobjects()"),await e.runPython(d.data);let a=await e.runPython("makescenejson()");res=JSON.parse(a),midstring=res.shader,shaderstring=midstring,postMessage({shaderstring})}catch(a){postMessage({error:a.message})}}})();
